---
title: Office 365 抵禦拒絕服務攻擊防禦雲端服務
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: 如何 Microsoft 進行防禦拒絕服務 (DoS) 攻擊對其雲端服務。
ms.openlocfilehash: 932e5a4d206a9d91c81e868e353259db954a2452
ms.sourcegitcommit: f0d23e57b00f07cef5b1b2d366eaeeeacda37e3e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/18/2019
ms.locfileid: "35786688"
---
# <a name="defending-microsoft-cloud-services-against-denial-of-service-attacks"></a><span data-ttu-id="4aa45-103">防禦拒絕服務攻擊的 Microsoft 雲端服務</span><span class="sxs-lookup"><span data-stu-id="4aa45-103">Defending Microsoft Cloud Services Against Denial-of-Service Attacks</span></span>

## <a name="introduction"></a><span data-ttu-id="4aa45-104">簡介</span><span class="sxs-lookup"><span data-stu-id="4aa45-104">Introduction</span></span>
<span data-ttu-id="4aa45-105">Microsoft 資料中心受到包含周邊圍欄、 攝影機、 安全性人員及使用生物識別技術、 智慧卡和多重要素驗證的安全設置的深度防禦安全性。</span><span class="sxs-lookup"><span data-stu-id="4aa45-105">Microsoft datacenters are protected by defense-in-depth security that includes perimeter fencing, video cameras, security personnel, and secure entrances that use biometrics, smartcard, and multi-factor authentication.</span></span> <span data-ttu-id="4aa45-106">深度防禦安全性會繼續通過每個區域的設施以及每個實體伺服器單位。</span><span class="sxs-lookup"><span data-stu-id="4aa45-106">The defense-in-depth security continues through every area of the facility and to each physical server unit.</span></span> <span data-ttu-id="4aa45-107">[Microsoft 雲端基礎結構和作業] 群組](https://www.microsoft.com/en-us/cloud-platform/global-datacenters)會傳遞的核心基礎結構和我們雲端服務基礎技術。</span><span class="sxs-lookup"><span data-stu-id="4aa45-107">The [Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) delivers the core infrastructure and foundational technologies for our cloud services.</span></span> <span data-ttu-id="4aa45-108">我們的資料中心遵守業界標準的實體安全性和可靠性和受管理、 監視，且由 Microsoft 作業人員管理。</span><span class="sxs-lookup"><span data-stu-id="4aa45-108">Our datacenters comply with industry standards for physical security and reliability and are managed, monitored, and administered by Microsoft operations personnel.</span></span>

<span data-ttu-id="4aa45-109">若要進一步保護我們的雲端服務，Microsoft 會提供 DDoS 國防版系統的 Microsoft Azure 持續監視和滲透測試程序的一部分。</span><span class="sxs-lookup"><span data-stu-id="4aa45-109">To further protect our cloud services, Microsoft provides a DDoS defense system that is part of the Microsoft Azure continuous monitoring and penetration-testing processes.</span></span> <span data-ttu-id="4aa45-110">Azure DDoS 防護系統不僅為了承受從外，也能使用其他 Azure 租用戶的攻擊。</span><span class="sxs-lookup"><span data-stu-id="4aa45-110">The Azure DDoS defense system is designed not only to withstand attacks from the outside, but also from other Azure tenants.</span></span> <span data-ttu-id="4aa45-111">Azure 使用標準偵測和防護技術，例如 SYN-RCVD cookie、 率限制，以及連線限制，以防止 DDoS 攻擊。</span><span class="sxs-lookup"><span data-stu-id="4aa45-111">Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span>

<span data-ttu-id="4aa45-112">Microsoft 的雲端服務須遵守從多個來源的攻擊威脅。</span><span class="sxs-lookup"><span data-stu-id="4aa45-112">Microsoft's cloud services are subject to the threat of attack from multiple sources.</span></span> <span data-ttu-id="4aa45-113">減輕並防範各種 DoS 威脅高度可延展及動態以 Azure 為基礎的威脅偵測和降低系統已開發並實作與從 DoS 保護基礎結構的主要目標攻擊，進而協助以避免服務中斷的雲端服務客戶。</span><span class="sxs-lookup"><span data-stu-id="4aa45-113">To mitigate and protect against the various DoS threats, a highly-scalable and dynamic Azure-based threat detection and mitigation system have been developed and implemented with the primary objective of protecting the underlying infrastructure from DoS attacks and helping to prevent service interruptions for cloud services customers.</span></span> <span data-ttu-id="4aa45-114">Azure DoS 降低系統保護輸入、 輸出和地區的流量。</span><span class="sxs-lookup"><span data-stu-id="4aa45-114">The Azure DoS mitigation system protects inbound, outbound, and region-to-region traffic.</span></span>

<span data-ttu-id="4aa45-115">大部分的 DoS 攻擊啟動對網路 (L3) 和傳輸的目標 (L4)[開啟系統互相連線](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model)(OSI) 模型層。</span><span class="sxs-lookup"><span data-stu-id="4aa45-115">Most DoS attacks launched against targets at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model.</span></span> <span data-ttu-id="4aa45-116">而網路介面或攻擊流量使癱瘓資源和拒絕回應合法的傳輸服務，旨在導向 L3 L4 層級的攻擊。</span><span class="sxs-lookup"><span data-stu-id="4aa45-116">Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic.</span></span> <span data-ttu-id="4aa45-117">具體而言，L3 和 L4 攻擊嘗試滲透網路連結、 裝置或服務的容量，或使癱瘓 Cpu 的伺服器或虛擬機器支援應用程式。</span><span class="sxs-lookup"><span data-stu-id="4aa45-117">Specifically, L3 and L4 attacks attempt to either saturate the capacity of network links, devices, or services or overwhelm the CPUs of servers or virtual machines supporting an application.</span></span>

<span data-ttu-id="4aa45-118">若要防止 L3 和 L4 攻擊，Microsoft 已設計、 開發，及部署解決方案目標特別保護來自遭受攻擊保護這些層級的基礎結構和客戶目標。</span><span class="sxs-lookup"><span data-stu-id="4aa45-118">To guard against L3 and L4 attacks Microsoft has designed, developed, and deployed a solution aimed specifically at safeguarding the infrastructure and customer targets that come under attack by protecting these layers.</span></span> <span data-ttu-id="4aa45-119">保護基礎結構可確保對象為一位客戶的攻擊流量不會導致附帶損害或執行其他客戶服務的網路品質。</span><span class="sxs-lookup"><span data-stu-id="4aa45-119">Protecting the infrastructure ensures that attack traffic intended for one customer does not result in collateral damage or diminished network quality of service for other customers.</span></span> <span data-ttu-id="4aa45-120">解決方案會使用流量資料中心路由器的取樣資料。</span><span class="sxs-lookup"><span data-stu-id="4aa45-120">The solution uses traffic sampling data from datacenter routers.</span></span> <span data-ttu-id="4aa45-121">此資料是由監視服務來偵測攻擊網路進行分析。</span><span class="sxs-lookup"><span data-stu-id="4aa45-121">This data is analyzed by a network monitoring service to detect attacks.</span></span> <span data-ttu-id="4aa45-122">偵測到攻擊時，自動化的防禦機制開始運作。</span><span class="sxs-lookup"><span data-stu-id="4aa45-122">When an attack is detected, automated defense mechanisms kick in.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="4aa45-123">應用程式層級的防禦措施</span><span class="sxs-lookup"><span data-stu-id="4aa45-123">Application-Level Defenses</span></span>
<span data-ttu-id="4aa45-124">Microsoft 工程團隊依循嚴格的標準[Microsoft 操作安全性保證](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance)設協助保護客戶資料。</span><span class="sxs-lookup"><span data-stu-id="4aa45-124">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) to help protect customer data.</span></span> <span data-ttu-id="4aa45-125">Microsoft 雲端服務會刻意內建支援也非常高的負載保護及減輕應用程式層級的 DoS 攻擊。</span><span class="sxs-lookup"><span data-stu-id="4aa45-125">Microsoft's cloud services are intentionally built to support a very high load as well as to protect and mitigate against application-level DoS attacks.</span></span> <span data-ttu-id="4aa45-126">我們已實作其中服務會分配到多個區域的隔離及節流工作負載的一些功能的全球資料中心的向外擴充架構。</span><span class="sxs-lookup"><span data-stu-id="4aa45-126">We have implemented a scaled-out architecture where services are distributed across multiple global datacenters with regional isolation and throttling features in some of the workloads.</span></span>

<span data-ttu-id="4aa45-127">每個客戶的國家/地區或區域，客戶的系統管理員識別服務的初始安裝期間，會決定該客戶資料的主要儲存區位置。</span><span class="sxs-lookup"><span data-stu-id="4aa45-127">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data.</span></span> <span data-ttu-id="4aa45-128">客戶資料會根據主要/備份策略的備援資料中心之間複寫。</span><span class="sxs-lookup"><span data-stu-id="4aa45-128">Customer data is replicated between redundant datacenters according to a primary/backup strategy.</span></span> <span data-ttu-id="4aa45-129">主要資料中心主控的應用程式軟體，以及軟體上執行的所有主要客戶資料。</span><span class="sxs-lookup"><span data-stu-id="4aa45-129">A primary datacenter hosts the application software along with all the primary customer data running on the software.</span></span> <span data-ttu-id="4aa45-130">備份資料中心提供自動容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="4aa45-130">A backup datacenter provides automatic failover.</span></span> <span data-ttu-id="4aa45-131">如果主要資料中心會停止運作因任何原因，要求會重新導向至備份資料中心中的軟體和客戶資料的複本。</span><span class="sxs-lookup"><span data-stu-id="4aa45-131">If the primary datacenter ceases to function for any reason, requests are redirected to the copy of the software and customer data in the backup datacenter.</span></span> <span data-ttu-id="4aa45-132">在任何指定的時間，可能會以主要或備份資料中心處理客戶資料。</span><span class="sxs-lookup"><span data-stu-id="4aa45-132">At any given time, customer data may be processed in either the primary or the backup datacenter.</span></span> <span data-ttu-id="4aa45-133">將資料分散到多個資料中心會減少受影響的表面區域，以防遭受攻擊一個資料中心。</span><span class="sxs-lookup"><span data-stu-id="4aa45-133">Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked.</span></span> <span data-ttu-id="4aa45-134">此外，在受影響的資料中心中的服務可以快速地重新導向至次要資料中心做為其中一個副與復原機制，前者 （重新導向回主要資料中心之後還原服務）。</span><span class="sxs-lookup"><span data-stu-id="4aa45-134">Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter as one of the recovery mechanisms, and vice versa (redirected back to the primary datacenter once service is restored).</span></span>

<span data-ttu-id="4aa45-135">個別的工作負載包含內建管理資源使用情況的功能。</span><span class="sxs-lookup"><span data-stu-id="4aa45-135">Individual workloads include built-in features that manage resource utilization.</span></span> <span data-ttu-id="4aa45-136">例如，節流機制在 Exchange Online 和 SharePoint Online 屬於防禦 DoS 攻擊的多層次方法。</span><span class="sxs-lookup"><span data-stu-id="4aa45-136">For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks.</span></span> <span data-ttu-id="4aa45-137">Exchange Online 使用者節流根據一般使用者而言所耗用資源的層級，資源是否在 Active Directory、 Exchange Online 的資訊儲存庫，或其他地方。</span><span class="sxs-lookup"><span data-stu-id="4aa45-137">Throttling for Exchange Online users is based on the level of resources consumed by the end user, whether the resources are in Active Directory, the Exchange Online information store, or elsewhere.</span></span> <span data-ttu-id="4aa45-138">預算會為每個用戶端，以限制使用者消耗的資源配置。</span><span class="sxs-lookup"><span data-stu-id="4aa45-138">A budget is allocated to each client to limit the resources consumed by a user.</span></span> <span data-ttu-id="4aa45-139">Exchange Online 的使用者活動] 和 [系統元件節流為基礎[的工作負載管理](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx)。</span><span class="sxs-lookup"><span data-stu-id="4aa45-139">Exchange Online throttling for user activity and system components is based on [workload management](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx).</span></span> <span data-ttu-id="4aa45-140">Exchange Online 的工作負載為 Exchange Online 的功能、 通訊協定或明確定義為 Exchange Online 的系統資源管理的服務。</span><span class="sxs-lookup"><span data-stu-id="4aa45-140">An Exchange Online workload is an Exchange Online feature, protocol, or service that has been explicitly defined for the purposes of Exchange Online system resource management.</span></span> <span data-ttu-id="4aa45-141">每一個 Exchange Online 的工作負載需要 CPU、 信箱資料庫操作等系統資源，或 Active Directory 要求執行使用者要求或背景工作。</span><span class="sxs-lookup"><span data-stu-id="4aa45-141">Each Exchange Online workload requires system resources such as CPU, mailbox database operations, or Active Directory requests to perform user requests or background work.</span></span> <span data-ttu-id="4aa45-142">Exchange Online 的工作負載的範例包括 Outlook web、 Exchange ActiveSync、 信箱移轉和信箱助理員。</span><span class="sxs-lookup"><span data-stu-id="4aa45-142">Examples of Exchange Online workloads include Outlook on the web, Exchange ActiveSync, mailbox migration, and mailbox assistants.</span></span> <span data-ttu-id="4aa45-143">租用戶系統管理員可以管理 Exchange 工作負載管理節流設定的使用者使用 Exchange 管理命令介面。</span><span class="sxs-lookup"><span data-stu-id="4aa45-143">Tenant administrators can manage Exchange workload management throttling settings for users with the Exchange Management Shell.</span></span> <span data-ttu-id="4aa45-144">有各種形式的節流設定，在 Exchange Online，包括 PowerShell、 Exchange Web 服務，以及 POP 和 IMAP、 Exchange ActiveSync 行動裝置連線、 收件者，等等，已經實作。</span><span class="sxs-lookup"><span data-stu-id="4aa45-144">There are various forms of throttling that have been implemented within Exchange Online, including PowerShell, Exchange Web Services, and POP and IMAP, Exchange ActiveSync, mobile device connections, recipients, and more.</span></span> <span data-ttu-id="4aa45-145">時的內部部署 Exchange 部署的系統管理員可以設定節流原則，系統管理員無法用於 Exchange Online 設定節流原則。</span><span class="sxs-lookup"><span data-stu-id="4aa45-145">While administrators of on-premises Exchange deployments can configure throttling policies, Administrators cannot configure throttling policies for Exchange Online.</span></span>

<span data-ttu-id="4aa45-146">SharePoint Online 中節流的最常見觸發程序是用戶端物件模型 (CSOM) 程式碼會執行得太高頻率太多動作。</span><span class="sxs-lookup"><span data-stu-id="4aa45-146">The most common trigger for throttling in SharePoint Online is client-side object model (CSOM) code that performs too many actions at too high a frequency.</span></span> <span data-ttu-id="4aa45-147">使用 csom 撰寫，可使用單一要求，其中可以超過使用狀況的限制，且每個使用者節流會造成執行許多動作。</span><span class="sxs-lookup"><span data-stu-id="4aa45-147">With CSOM, many actions can be performed with a single request, which can exceed usage limits and cause per-user throttling.</span></span>

<span data-ttu-id="4aa45-148">不論活動，可能會導致節流，當使用者超過使用狀況的限制，任何進一步的要求該使用者帳戶，通常是在短期間內的 SharePoint Online 節流。</span><span class="sxs-lookup"><span data-stu-id="4aa45-148">Regardless of the activity that might result in throttling, when a user exceeds usage limits, SharePoint Online throttles any further requests from that user account, usually for a short period.</span></span> <span data-ttu-id="4aa45-149">使用者節流生效時，該使用者的所有動作已受到都節流，直到節流，過期取決於下列準則：</span><span class="sxs-lookup"><span data-stu-id="4aa45-149">While a user throttle is in effect, all actions by that user are throttled until the throttle expires, according to the following criteria:</span></span>
- <span data-ttu-id="4aa45-150">針對使用者直接在瀏覽器中執行的要求，SharePoint Online 重新導向至節流資訊] 頁面中，並要求失敗。</span><span class="sxs-lookup"><span data-stu-id="4aa45-150">For requests performed by the user directly in a browser, SharePoint Online redirects to a throttling information page, and the requests fail.</span></span>
- <span data-ttu-id="4aa45-151">對於所有其他要求，包括 CSOM 呼叫，SharePoint Online 傳回 HTTP 狀態碼 429 （「 太多要求 」），並要求失敗。</span><span class="sxs-lookup"><span data-stu-id="4aa45-151">For all other requests, including CSOM calls, SharePoint Online returns HTTP status code 429 ("too many requests"), and the requests fail.</span></span>

<span data-ttu-id="4aa45-152">如果違規的程序持續超過使用狀況的限制，SharePoint Online 可能完全封鎖程序，並傳回 HTTP 狀態碼 503 （「 服務無法使用 」）。</span><span class="sxs-lookup"><span data-stu-id="4aa45-152">If the offending process continues to exceed usage limits, SharePoint Online may completely block the process and return HTTP status code 503 ("service unavailable").</span></span>

## <a name="vulnerability-and-penetration-testing"></a><span data-ttu-id="4aa45-153">弱點和滲透測試</span><span class="sxs-lookup"><span data-stu-id="4aa45-153">Vulnerability and Penetration Testing</span></span>
<span data-ttu-id="4aa45-154">Microsoft 會使用許多[安全性技術與作法](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement)對新式、 複雜的威脅，包括使用反惡意程式碼的元件和服務的雲端服務時，虛擬[保護其雲端基礎結構](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/)，並在內部網路機器 (Vm)，與其他系統。</span><span class="sxs-lookup"><span data-stu-id="4aa45-154">Microsoft uses many [security technologies and practices](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) to [protect its cloud infrastructure](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) and on-premises networks against modern, sophisticated threats, including using antimalware components and services for cloud services, virtual machines (VMs), and other systems.</span></span> <span data-ttu-id="4aa45-155">進階的威脅分析，以監視正常流量模式網路、 系統及使用者，以及採用機器學習超出正常，和一般滲透測試任何行為的旗標。</span><span class="sxs-lookup"><span data-stu-id="4aa45-155">Advanced Threat Analytics, which monitors normal usage patterns for networks, systems, and users, and employs machine learning to flag any behavior that is out of the ordinary, and regular penetration testing.</span></span>

<span data-ttu-id="4aa45-156">除了執行自己滲透測試和[Microsoft 雲端整合滲透測試程式](https://technet.microsoft.com/en-us/mt784683)提供給我們的客戶，我們也邀請與協力廠商安全性專業人員執行一般弱點評估和滲透測試對我們雲端服務。</span><span class="sxs-lookup"><span data-stu-id="4aa45-156">In addition to performing our own penetration tests and offering to our customers a [Microsoft Cloud Unified Penetration Testing program](https://technet.microsoft.com/en-us/mt784683), we also engage with third-party security professionals who perform regular vulnerability assessments of and penetration testing against our cloud services.</span></span> <span data-ttu-id="4aa45-157">我們從這些協力廠商弱點評估報告可供下載從進行[服務信任](https://aka.ms/STP)及[服務保證](https://aka.ms/ServiceAssurance)入口網站。</span><span class="sxs-lookup"><span data-stu-id="4aa45-157">We make the reports from these third-party vulnerability assessments available for download from the [Service Trust](https://aka.ms/STP) and the [Service Assurance](https://aka.ms/ServiceAssurance) portals.</span></span>
