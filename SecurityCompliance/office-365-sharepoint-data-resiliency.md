---
title: Office 365 的 SharePoint 資料復原
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: 在 Office 365 中 SharePoint Online 資料恢復能力的概觀。
ms.openlocfilehash: 19eb7c3d0918d022d8adb427282b1faae8c6f4e9
ms.sourcegitcommit: 0017dc6a5f81c165d9dfd88be39a6bb17856582e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "32260781"
---
# <a name="sharepoint-online-data-resiliency"></a><span data-ttu-id="57c49-103">SharePoint Online 資料恢復</span><span class="sxs-lookup"><span data-stu-id="57c49-103">SharePoint Online Data Resiliency</span></span>
<span data-ttu-id="57c49-104">SharePoint online 重要原則是永遠不會有的任何資料片段的單一複本。</span><span class="sxs-lookup"><span data-stu-id="57c49-104">A key principle for SharePoint Online is to never have a single copy of any piece of data.</span></span> <span data-ttu-id="57c49-105">SharePoint Online 會使用 SQL Server 複寫，也就是一組的複製及散佈資料和資料庫物件從一個資料庫到另一個，並再同步處理維持一致的資料庫間的技術。</span><span class="sxs-lookup"><span data-stu-id="57c49-105">SharePoint Online uses SQL Server replication, which is a set of technologies for copying and distributing data and database objects from one database to another, and then synchronizing between databases to maintain consistency.</span></span> 

<span data-ttu-id="57c49-106">例如，當使用者在 SharePoint Online 中儲存檔案，檔案會區塊、 加密，並儲存內 Azure Blob 儲存。</span><span class="sxs-lookup"><span data-stu-id="57c49-106">For example, when a user saves a file in SharePoint Online, the file is chunked, encrypted, and stored within Azure Blob storage.</span></span> <span data-ttu-id="57c49-107">Azure Blob 服務提供用以確保資料完整性這兩個應用程式和傳輸層級的機制。</span><span class="sxs-lookup"><span data-stu-id="57c49-107">Azure Blob service provides mechanisms to ensure data integrity both at the application and transport layers.</span></span> <span data-ttu-id="57c49-108">這篇文章將詳細說明這些機制就服務和用戶端的觀點。</span><span class="sxs-lookup"><span data-stu-id="57c49-108">This post will detail these mechanisms from the service and client perspective.</span></span> <span data-ttu-id="57c49-109">檢查 MD5 是選用的 PUT 與 GET 作業;不過，它提供用以確保資料完整性跨網路時使用 HTTP 的便利設施。</span><span class="sxs-lookup"><span data-stu-id="57c49-109">MD5 checking is optional on both PUT and GET operations; however, it does provide a convenience facility to ensure data integrity across the network when using HTTP.</span></span> <span data-ttu-id="57c49-110">此外，由於 HTTPS 提供額外的傳輸層安全性 MD5 檢查，就不需要時透過 HTTPS 連線，因為備援。</span><span class="sxs-lookup"><span data-stu-id="57c49-110">Additionally, since HTTPS provides transport layer security additional MD5 checking is not needed while connecting over HTTPS as it would be redundant.</span></span> <span data-ttu-id="57c49-111">Azure Blob 服務提供長期儲存媒體，並使用它自己的完整性檢查已儲存的資料。</span><span class="sxs-lookup"><span data-stu-id="57c49-111">Azure Blob service provides a durable storage medium, and uses its own integrity checking for stored data.</span></span> <span data-ttu-id="57c49-112">MD5 的互動的應用程式時所使用的被提供應用程式與服務之間傳送的資料，透過 HTTP 時檢查資料的完整性。</span><span class="sxs-lookup"><span data-stu-id="57c49-112">The MD5's that are used when interacting with an application are provided for checking the integrity of the data when transferring that data between the application and service via HTTP.</span></span> 

<span data-ttu-id="57c49-113">若要確保資料完整性 Azure Blob 服務會使用 MD5 雜湊資料的幾種不同的最節省中。</span><span class="sxs-lookup"><span data-stu-id="57c49-113">To ensure data integrity the Azure Blob service uses MD5 hashes of the data in a couple different manners.</span></span> <span data-ttu-id="57c49-114">請務必了解如何這些值計算、 傳輸、 儲存，且最後會強制執行適當地設計您的應用程式，利用它們提供資料的完整性。</span><span class="sxs-lookup"><span data-stu-id="57c49-114">It is important to understand how these values are calculated, transmitted, stored, and eventually enforced to appropriately design your application to utilize them to provide data integrity.</span></span> <span data-ttu-id="57c49-115">如需詳細資訊，請參閱[Windows Azure Blob MD5 概觀](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/18/windows-azure-blob-md5-overview.aspx)。</span><span class="sxs-lookup"><span data-stu-id="57c49-115">For more information, see [Windows Azure Blob MD5 Overview](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/18/windows-azure-blob-md5-overview.aspx).</span></span> 

<span data-ttu-id="57c49-116">中繼資料和檔案的指標會儲存在 SQL Server 資料庫 （內容資料庫）。</span><span class="sxs-lookup"><span data-stu-id="57c49-116">Metadata and pointers to the file are stored in a SQL Server database (the content database).</span></span> <span data-ttu-id="57c49-117">所有的區塊 – 檔案、 檔案及更新的差異部分 – 儲存為 Azure 儲存體中會隨機分散到多個 Azure 儲存體帳戶的 blob。</span><span class="sxs-lookup"><span data-stu-id="57c49-117">All the chunks – files, pieces of files, and update deltas – are stored as blobs in Azure storage that are randomly distributed across multiple Azure storage accounts.</span></span> <span data-ttu-id="57c49-118">SQL 資料庫裝載於同步鏡像以於不同機架相同資料中心內的另一個 RAID 10 存放裝置陣列 RAID 10 存放裝置陣列。</span><span class="sxs-lookup"><span data-stu-id="57c49-118">The SQL database is hosted on a RAID 10 storage array which is synchronously mirrored to another RAID 10 storage array in a separate rack within the same datacenter.</span></span> <span data-ttu-id="57c49-119">非同步記錄傳送然後用來將資料複寫到另一個 RAID 10 儲存體陣列的第二個資料中心內。</span><span class="sxs-lookup"><span data-stu-id="57c49-119">Asynchronous log shipping is then used to replicate the data to another RAID 10 storage array in a second datacenter.</span></span> <span data-ttu-id="57c49-120">除了保護 RAID 10 與同步與非同步複寫的資料，排程的資料備份會採取這也以非同步方式複寫到第二個資料中心。</span><span class="sxs-lookup"><span data-stu-id="57c49-120">In addition to protecting data with RAID 10 and synchronous and asynchronous replication, scheduled data backups are taken which are also asynchronously replicated to the second datacenter.</span></span> 

<span data-ttu-id="57c49-121">在 SharePoint Online 中，資料備份會執行每隔 12 小時，並且保留 14 天。</span><span class="sxs-lookup"><span data-stu-id="57c49-121">In SharePoint Online, data backups are performed every 12 hours and retained for 14 days.</span></span> <span data-ttu-id="57c49-122">SharePoint Online 也會使用熱待命系統包含成對的地理位置不同資料中心內的相同客戶資料位置區域 （例如，芝加哥和 San 說的已佈建其租用戶在美國境內的客戶）設定為主動/主動。</span><span class="sxs-lookup"><span data-stu-id="57c49-122">SharePoint Online also uses a hot standby system that includes paired geographically-separate datacenters within the same customer data location region (for example, Chicago and San Antonio for customers who have provisioned their tenant in the United States) configured as active/active.</span></span> <span data-ttu-id="57c49-123">例如，有 live 使用者為其主要資料中心及以容錯移轉資料中心的 San 說芝加哥且 live 具有 San 說他們的主要資料中心和芝加哥作為其容錯移轉資料中心的使用者。</span><span class="sxs-lookup"><span data-stu-id="57c49-123">For example, there are live users that have Chicago as their primary datacenter and San Antonio as a failover datacenter, and live users that have San Antonio as their primary datacenter and Chicago as their failover datacenter.</span></span> 