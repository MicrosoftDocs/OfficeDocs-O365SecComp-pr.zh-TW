---
title: Office 365 監視及自我修復
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: Office 365 的監視和自我修復功能的相關資訊。
ms.openlocfilehash: 6a7753fbd1e20c690c45b670240afa36baf9ffdb
ms.sourcegitcommit: 0017dc6a5f81c165d9dfd88be39a6bb17856582e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "32262495"
---
# <a name="office-365-monitoring-and-self-healing"></a><span data-ttu-id="b00e2-103">Office 365 監視及自我修復</span><span class="sxs-lookup"><span data-stu-id="b00e2-103">Office 365 Monitoring and Self-Healing</span></span>
<span data-ttu-id="b00e2-104">提供 Office 365 的小數位數，就無法要保留的客戶資料恢復及安全，以防止惡意程式碼沒有內建的監控，完整周詳，警示智慧型，和自我修復，是快速且可靠。</span><span class="sxs-lookup"><span data-stu-id="b00e2-104">Given the scale of Office 365, it would be impossible to keep customer data resilient and safe from malware without built-in monitoring that is comprehensive, alerting that is intelligent, and self-healing that is fast and reliable.</span></span> <span data-ttu-id="b00e2-105">監視的一組 Office 365 的規模服務是非常具挑戰性。</span><span class="sxs-lookup"><span data-stu-id="b00e2-105">Monitoring a set of services at the scale of Office 365 is very challenging.</span></span> <span data-ttu-id="b00e2-106">新思維模式和方法，需要採用，並建立來操作及管理連線的全域環境中的服務所需的全新組的技術。</span><span class="sxs-lookup"><span data-stu-id="b00e2-106">New mindsets and methodologies needed to be introduced, and whole new sets of technology needed to be created to operate and manage the service in a connected global environment.</span></span> <span data-ttu-id="b00e2-107">我們已建立警示，根據資料分析; 方法移開傳統的監視資料集合的方法及篩選採取訊號並建立該資料的信賴度，然後使用 automation 復原或解決問題。</span><span class="sxs-lookup"><span data-stu-id="b00e2-107">We have moved away from the traditional monitoring approach of data collection and filtering to create alerts to an approach that is based on data analysis; taking signals and building confidence in that data and then using automation to recover or resolve the issue.</span></span> <span data-ttu-id="b00e2-108">這種方法可以幫助採取超出復原方程式，因此可將作業較不昂貴、 速度較快，且較少的錯誤容易遭受人類。</span><span class="sxs-lookup"><span data-stu-id="b00e2-108">This approach helps take humans out of the recovery equation, which in turn makes operations less expensive, faster, and less error prone.</span></span> 

<span data-ttu-id="b00e2-109">Office 365 的基礎監視是一群組成我們資料見解引擎，在 Azure、 SQL Azure 和[開放原始碼資料流資料庫技術](http://cassandra.apache.org/)為基礎的技術。</span><span class="sxs-lookup"><span data-stu-id="b00e2-109">Fundamental to Office 365 monitoring is a collection of technologies that comprise our Data Insights Engine, which is built on Azure, SQL Azure, and [open-source streaming database technology](http://cassandra.apache.org/).</span></span> <span data-ttu-id="b00e2-110">它被設計來收集和彙總資料並達到結論。</span><span class="sxs-lookup"><span data-stu-id="b00e2-110">It is designed to collect and aggregate data and reach conclusions.</span></span> <span data-ttu-id="b00e2-111">目前，它會處理散佈數十個資料中心中多個區域，在每小時從 100000 個以上的伺服器 (每日 ~ 15 TB) 的超過 500 萬個事件，這些數字變得。</span><span class="sxs-lookup"><span data-stu-id="b00e2-111">Currently, it processes more than 500 million events per hour from more than 100,000 servers (~15 TB per day) scattered across dozens of datacenters in many regions, and these numbers are growing.</span></span> 

<span data-ttu-id="b00e2-112">Office 365 使用*outside 中監視*，包括建立綜合交易，若要測試的重要的所有項目。</span><span class="sxs-lookup"><span data-stu-id="b00e2-112">Office 365 uses *outside-in monitoring*, which involves creating synthetic transactions to test everything that is important.</span></span> <span data-ttu-id="b00e2-113">例如，在 Exchange Online 中每個案例測試全球每個資料庫都是分散的方式，提供附近連續涵蓋範圍的所有項目會位於系統每隔五分鐘。</span><span class="sxs-lookup"><span data-stu-id="b00e2-113">For example, in Exchange Online each scenario is testing every database worldwide every five minutes in a scattered fashion, providing near continuous coverage of everything that lives in the system.</span></span> <span data-ttu-id="b00e2-114">從多個位置，以建立強大的比較基準或服務的活動訊號執行每天 250 萬個測試交易。</span><span class="sxs-lookup"><span data-stu-id="b00e2-114">From multiple locations, 250 million test transactions per day are performed to create a robust baseline or heartbeat for the service.</span></span> 

<span data-ttu-id="b00e2-115">Office 365 也會使用*紅色警示*，其下所有監控的訊號從所有我們的資料中心中的機器壓縮成可由人所管理的概念。</span><span class="sxs-lookup"><span data-stu-id="b00e2-115">Office 365 also uses the concept of *Red Alert*, which shrinks down all the monitoring signals from all of the machines in our datacenters to something manageable by a human being.</span></span> <span data-ttu-id="b00e2-116">概念是相當簡單： 如果某個項目跨多個訊號的情形，必須有某些程度。</span><span class="sxs-lookup"><span data-stu-id="b00e2-116">The concept is quite simple: If something is happening across multiple signals, there must be something going on.</span></span> <span data-ttu-id="b00e2-117">不需建立一個訊號的信賴度，它是關於有合理的不失真的每個訊號，讓您取得更大的精確度。</span><span class="sxs-lookup"><span data-stu-id="b00e2-117">It is not about building confidence in one signal, it is about having reasonable fidelity for each signal so that you get greater accuracy.</span></span> <span data-ttu-id="b00e2-118">此監控系統是非常強大，我們不需要 24 x 7 人員觀看我們監視器;我們所需的只是如果它偵測到的問題，這種情況它將] 頁面上的適當的上呼叫人員，或在此情況下，通常會只得出並解決問題喚醒機器。</span><span class="sxs-lookup"><span data-stu-id="b00e2-118">This monitoring system is so powerful that we do not have 24x7 staff watching our monitors; all we have is the machinery that wakes up if it detects a problem, in which case it will page the appropriate on-call personnel, or more often as is the case, it will just go ahead and solve the problem.</span></span> <span data-ttu-id="b00e2-119">一次我們正在收集訊號和建置關閉它們的紅色警示，我們可以開始三角跨所有我們服務分割區。</span><span class="sxs-lookup"><span data-stu-id="b00e2-119">Once we start collecting signals and building red alerts off them, we can start triangulating across all our service partitions.</span></span> 

<span data-ttu-id="b00e2-120">根據失敗警示和紅色警示的組合，此提醒指出完全哪些元件可能有問題，且系統移至試著重新啟動信箱伺服器要自行修正問題。</span><span class="sxs-lookup"><span data-stu-id="b00e2-120">Based on the combination of the failure alert and the Red Alerts, this alert indicates exactly which components could be having a problem, and that the system is going to try to correct the problem by itself by restarting a mailbox server.</span></span> 

<span data-ttu-id="b00e2-121">除了自我修復等單一頁面還原功能，Exchange Online 包含許多功能，可採取的方式來監視及自我修復哪些著重於保留使用者經驗。</span><span class="sxs-lookup"><span data-stu-id="b00e2-121">In addition to self-healing capabilities such as single page restore, Exchange Online includes several features that take an approach to monitoring and self-healing which focuses on preserving the end-user experience.</span></span> <span data-ttu-id="b00e2-122">這些功能包括*受管理的可用性*，可提供內建的監控和復原動作，以及 AutoReseed，自動將磁碟故障後的還原資料庫備援。</span><span class="sxs-lookup"><span data-stu-id="b00e2-122">These features include *Managed Availability*, which provides built-in monitoring and recovery actions, and AutoReseed, which automatically restores database redundancy after a disk failure.</span></span> 

## <a name="managed-availability"></a><span data-ttu-id="b00e2-123">受管理的可用性</span><span class="sxs-lookup"><span data-stu-id="b00e2-123">Managed Availability</span></span> 
<span data-ttu-id="b00e2-124">受管理的可用性提供原生的健康情況檢查及復原解決方案，監視和保護使用者經驗，透過復原導向的動作。</span><span class="sxs-lookup"><span data-stu-id="b00e2-124">Managed availability provides a native health checking and recovery solution that monitors and protects the end user's experience through recovery-oriented actions.</span></span> <span data-ttu-id="b00e2-125">受管理的可用性是內建的監控和復原動作與 Exchange 高可用性平台的整合。</span><span class="sxs-lookup"><span data-stu-id="b00e2-125">Managed availability is the integration of built-in monitoring and recovery actions with the Exchange high availability platform.</span></span> <span data-ttu-id="b00e2-126">它被設計來偵測並修復問題一旦發生，而且系統發現。</span><span class="sxs-lookup"><span data-stu-id="b00e2-126">It's designed to detect and recover from problems as soon as they occur and are discovered by the system.</span></span> <span data-ttu-id="b00e2-127">不像舊版外部的監視解決方案和 Exchange 的技術，受管理的可用性不會嘗試來識別或通訊問題的根本原因。</span><span class="sxs-lookup"><span data-stu-id="b00e2-127">Unlike previous external monitoring solutions and techniques for Exchange, managed availability doesn't try to identify or communicate the root cause of an issue.</span></span> <span data-ttu-id="b00e2-128">相反地，它被著重於地址的使用者經驗的三個主要區域的復原層面：</span><span class="sxs-lookup"><span data-stu-id="b00e2-128">Instead, it's focused on recovery aspects that address three key areas of the end-user experience:</span></span> 
- <span data-ttu-id="b00e2-129">**可用性**-使用者可以存取服務嗎？</span><span class="sxs-lookup"><span data-stu-id="b00e2-129">**Availability** - Can users access the service?</span></span> 
- <span data-ttu-id="b00e2-130">**延遲**-如何為使用者的經驗？</span><span class="sxs-lookup"><span data-stu-id="b00e2-130">**Latency** - How is the experience for users?</span></span> 
- <span data-ttu-id="b00e2-131">**錯誤**-要能夠完成他們想要的使用者？</span><span class="sxs-lookup"><span data-stu-id="b00e2-131">**Errors** - Are users able to accomplish what they want?</span></span> 

<span data-ttu-id="b00e2-132">受管理的可用性是內部的功能，在每部執行 Exchange Online 的 Office 365 伺服器上執行。</span><span class="sxs-lookup"><span data-stu-id="b00e2-132">Managed availability is an internal feature that runs on every Office 365 server running Exchange Online.</span></span> <span data-ttu-id="b00e2-133">它會輪詢，並分析數百個狀況計量每秒。</span><span class="sxs-lookup"><span data-stu-id="b00e2-133">It polls and analyzes hundreds of health metrics every second.</span></span> <span data-ttu-id="b00e2-134">如果某個項目是錯誤，大多數情況下找到它是自動修正問題。</span><span class="sxs-lookup"><span data-stu-id="b00e2-134">If something is found to be wrong, most of the time it is fixed automatically.</span></span> <span data-ttu-id="b00e2-135">但永遠都會有問題的受管理的可用性將無法修正其本身。</span><span class="sxs-lookup"><span data-stu-id="b00e2-135">But there will always be issues that managed availability will not be able to fix on its own.</span></span> <span data-ttu-id="b00e2-136">在這些情況下，受管理的可用性會利用事件記錄提升到 Office 365 支援小組問題。</span><span class="sxs-lookup"><span data-stu-id="b00e2-136">In those cases, managed availability will escalate the issue to an Office 365 support team by means of event logging.</span></span> 

## <a name="autoreseed"></a><span data-ttu-id="b00e2-137">AutoReseed</span><span class="sxs-lookup"><span data-stu-id="b00e2-137">AutoReseed</span></span> 
<span data-ttu-id="b00e2-138">Exchange Online 伺服器會部署在相同的非 RAID 磁碟儲存多個資料庫和其記錄資料流的設定。</span><span class="sxs-lookup"><span data-stu-id="b00e2-138">Exchange Online servers are deployed in a configuration that stores multiple databases and their log streams on the same non-RAID disk.</span></span> <span data-ttu-id="b00e2-139">此設定通常稱為*的磁碟綁定*(JBOD)，因為沒有儲存備援機制，例如 RAID，用來重複的磁碟上的資料。</span><span class="sxs-lookup"><span data-stu-id="b00e2-139">This configuration is often referred to as *just a bunch of disks* (JBOD) because no storage redundancy mechanisms, such as RAID, are being used to duplicate the data on the disk.</span></span> <span data-ttu-id="b00e2-140">當磁碟失敗時在 JBOD 環境中時，在該磁碟上的資料會遺失。</span><span class="sxs-lookup"><span data-stu-id="b00e2-140">When a disk fails in a JBOD environment, the data on that disk is lost.</span></span> 

<span data-ttu-id="b00e2-141">提供的 Exchange Online 和內部部署的事實的大小百萬的磁碟機，磁碟機失敗一般出現在 Exchange Online。</span><span class="sxs-lookup"><span data-stu-id="b00e2-141">Given the size of Exchange Online and the fact that deployed within it are millions of disk drives, disk drive failures are a regular occurrence in Exchange Online.</span></span> <span data-ttu-id="b00e2-142">事實上，超過 100 失敗每一天。</span><span class="sxs-lookup"><span data-stu-id="b00e2-142">In fact, more than 100 fail every day.</span></span> <span data-ttu-id="b00e2-143">當磁碟失敗時在內部部署企業部署中時，系統管理員必須以手動方式更換故障的磁碟，並還原受影響的資料。</span><span class="sxs-lookup"><span data-stu-id="b00e2-143">When a disk fails in an on-premises enterprise deployment, an administrator must manually replace the failed disk and restore the affected data.</span></span> <span data-ttu-id="b00e2-144">在 Office 365 雲端部署的大小，需要以手動方式更換磁碟運算子 （雲端系統管理員） 是實際和經濟可行的情況下都不。</span><span class="sxs-lookup"><span data-stu-id="b00e2-144">In a cloud deployment the size of Office 365, having operators (cloud administrators) manually replacing disks is neither practical nor economically feasible.</span></span> 

<span data-ttu-id="b00e2-145">自動重新植入或*AutoReseed*，是一種是什麼是通常的運算子導向巨集指令以回應磁碟故障，資料庫損毀事件或區間重新植入資料庫副本的其他問題取代的功能。</span><span class="sxs-lookup"><span data-stu-id="b00e2-145">Automatic Reseed, or *AutoReseed*, is a feature that is the replacement for what is normally operator-driven action in response to a disk failure, database corruption event, or other issue that necessitates a reseeding of a database copy.</span></span> <span data-ttu-id="b00e2-146">AutoReseed 專為磁碟故障後，使用佈建在系統上的備用磁碟自動還原資料庫備援而設計。</span><span class="sxs-lookup"><span data-stu-id="b00e2-146">AutoReseed is designed to automatically restore database redundancy after a disk failure by using spare disks that have been provisioned on the system.</span></span> <span data-ttu-id="b00e2-147">如果磁碟故障，儲存在該磁碟上的資料庫副本會自動重新植入預先設定的備用磁碟，在伺服器上，進而還原備援。</span><span class="sxs-lookup"><span data-stu-id="b00e2-147">If a disk fails, the database copies stored on that disk are automatically reseeded to a preconfigured spare disk on the server, thereby restoring redundancy.</span></span> 